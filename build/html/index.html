
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Chern documentation &#8212; Chern 2.2.7 documentation</title>
    <link rel="stylesheet" href="_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Installation" href="installation.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="chern-documentation">
<h1>Chern documentation<a class="headerlink" href="#chern-documentation" title="Permalink to this headline">¶</a></h1>
<p>The source code and the demo can be found in <a href="#id5"><span class="problematic" id="id6">`github`__</span></a> .
Welcome to contribute.</p>
<p>The Chinese version of the document can be found <a href="#id5"><span class="problematic" id="id7">`here`__</span></a> .</p>
<div class="section" id="introduction">
<h2>Introduction<a class="headerlink" href="#introduction" title="Permalink to this headline">¶</a></h2>
<p>An article <a href="#id5"><span class="problematic" id="id8">`A proposed solution for data analysis management in high energy physics`__</span></a>
will be uploaded to arxiv. In the article, we introduce the .
Here, we would like to introduce the problem we face in the every-day data analysis work.
And we would also like to define a best practice to do analysis together with Chern.</p>
<div class="section" id="problems">
<h3>Problems<a class="headerlink" href="#problems" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>Code would be changed once and once again.</li>
<li>Software version change with time.</li>
<li>Knowledge transfer.</li>
<li>Collaborative work.</li>
<li>Input data.</li>
<li>Continuous change of directory structure.
It is never possible to contruct the whole analysis perfectly
in the first time. The architecture of the analysis will change
by time.</li>
</ul>
</div>
<div class="section" id="best-practice">
<h3>Best practice<a class="headerlink" href="#best-practice" title="Permalink to this headline">¶</a></h3>
<p>It is possible to manage the whole analysis and . However, Human makes mistakes.
It is quite hard to remember the .
The Chern toolkit is designed to resolve the difficulty of analysis preservation.</p>
<p>As
+ Use docker bases provided officially.
+ A stable input data.</p>
<p>To do this with Chern, we introduce a few concepts:
+ object: there are two types of object, one is called algorithm and another is called task.</p>
<blockquote>
<div>The algorithm defines the code and the . The task contains the</div></blockquote>
<ul class="simple">
<li>Impression: Impression is the core concept of Chern. a impression is a version of algorithm and task. For algorithm, the impression is
uniquely defined by its contents. However, for task, the impression is defined by itself
but also the algorithm it use, and the its inputs. If the inputs/algorithm have a new impression,
the task should also have a new impression.</li>
</ul>
<p>The real stuff to do with chern:
+ make algorithms, make tasks, link them together, submit them to the background and chern will</p>
<blockquote>
<div>automatically run for you.</div></blockquote>
<p>We separate the .</p>
<p>In the data analysis, the usual case is that we should process the data using different program one by one.
However, with the progress of the experiment, we need to contienous update the models and the parameters.
The update usually makes our program and our data more dirty and more messeous.
This project is intended to provide a tool to manage the projects and make our analysis and make a more comfortable life.</p>
<p>The following is added after the presentation of Sebastian Neubert at LHCb Analysis and Software Week, on July 18th, 2017. The purpose is to explain the idea and the design of this project and invite more human power to the project.</p>
<p>As for analysis preservation, I recommend to force the users to use git and write readme of their analysis.
The best way to force them to do so is to rewrite the shell. And make every shell command recorded by git.
However, it is impossible to create a new shell use for HEP. I recommend to use IPython as the shell and modify
the functions of <cite>mkdir</cite>, <cite>mv</cite>, <cite>rm</cite>, <cite>cp</cite> etc.</p>
</div>
</div>
<div class="section" id="design-philosophy-of-chern">
<h2>Design philosophy of Chern<a class="headerlink" href="#design-philosophy-of-chern" title="Permalink to this headline">¶</a></h2>
<div class="figure" id="id3">
<img alt="_images/liuchengtu1.png" src="_images/liuchengtu1.png" />
<p class="caption"><span class="caption-text">Workflow of a demo analysis (made by Shunan Zhang)</span></p>
</div>
<div class="section" id="abstract-workflow">
<h3>Abstract workflow:<a class="headerlink" href="#abstract-workflow" title="Permalink to this headline">¶</a></h3>
<p>The concept of workflow is similar with that of the most pipeline tools.
An typical analysis is modeled as a workflow.
The data, task and algorithm can be modeled as some virtual object called VObject.
The VObjects are linked by their relationships.
The basic idea of Chern is to manage this flow.
In the figure above, the “raw data” is processed by a VTask called “task selection” and generate VData called “data after selection”. The VTask “task selection” use an VAlgorithm “algorithm selection”. The VData “data after selection” is further processed by an VTask called “task fit”, which uses “algorithm fit” and generates data file called “result after fit”. The specific mean of VData, VTask and VAlgorithm will be explained as following.</p>
<ul class="simple">
<li>VData: The concept of data seems straight forward. However, here data include also the plots and other information generated by a program. And they are not the real data but only the expect input and output of the programs.</li>
<li>VAlgorithm:</li>
<li>VTask:</li>
</ul>
<p>The algorithm means the code and the compile flow. It seems that snakemake provide a good tool to manage the compile flow.</p>
<div class="figure" id="id4">
<img alt="_images/fig2.png" src="_images/fig2.png" />
<p class="caption"><span class="caption-text">Demo analysis structure (mad by Shunan Zhang)</span></p>
</div>
<p>data
selection1_algorithm
selection2_algorithm
fit_algorithm
selection1_task
data_after_selection1
selection2_task
data_after_selection2
fit_task
fit_result</p>
<p>For the purpose of preservation, I recommend to force users to use git lab and write readme.
The best approach to f</p>
<p>Contents:</p>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="installation.html">Installation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="installation.html#prerequests">Prerequests</a></li>
<li class="toctree-l2"><a class="reference internal" href="installation.html#installation">Installation</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="startup.html">Getting start</a></li>
<li class="toctree-l1"><a class="reference internal" href="concepts.html">Chern repository</a></li>
<li class="toctree-l1"><a class="reference internal" href="concepts.html#task-and-algorithm">Task and algorithm</a></li>
<li class="toctree-l1"><a class="reference internal" href="concepts.html#impression">Impression</a></li>
<li class="toctree-l1"><a class="reference internal" href="concepts.html#chern-machine">Chern machine</a></li>
<li class="toctree-l1"><a class="reference internal" href="concepts.html#frontend">Frontend</a></li>
<li class="toctree-l1"><a class="reference internal" href="API.html">API</a></li>
<li class="toctree-l1"><a class="reference internal" href="FAQ.html">Frequently asked question:</a></li>
<li class="toctree-l1"><a class="reference internal" href="schedule.html">Schedule</a></li>
</ul>
</div>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="#">Chern</a></h1>








<h3>Navigation</h3>
<ul>
<li class="toctree-l1"><a class="reference internal" href="installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="startup.html">Getting start</a></li>
<li class="toctree-l1"><a class="reference internal" href="concepts.html">Chern repository</a></li>
<li class="toctree-l1"><a class="reference internal" href="concepts.html#task-and-algorithm">Task and algorithm</a></li>
<li class="toctree-l1"><a class="reference internal" href="concepts.html#impression">Impression</a></li>
<li class="toctree-l1"><a class="reference internal" href="concepts.html#chern-machine">Chern machine</a></li>
<li class="toctree-l1"><a class="reference internal" href="concepts.html#frontend">Frontend</a></li>
<li class="toctree-l1"><a class="reference internal" href="API.html">API</a></li>
<li class="toctree-l1"><a class="reference internal" href="FAQ.html">Frequently asked question:</a></li>
<li class="toctree-l1"><a class="reference internal" href="schedule.html">Schedule</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="#">Documentation overview</a><ul>
      <li>Next: <a href="installation.html" title="next chapter">Installation</a></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2017, Mingrui Zhao.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 1.7.1</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.10</a>
      
      |
      <a href="_sources/index.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>